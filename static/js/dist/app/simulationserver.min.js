async function triggerStrike(){const e=document.getElementById("campaignName").value,t=document.getElementById("triggerBtn");if(e){t.disabled=!0,t.innerHTML='<i class="fa fa-spinner fa-spin"></i> Triggering...';try{const n=await fetch("/api/simulationserver/trigger_strike",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign:e})}),r=await n.json();r.success?alert("Success: "+r.message):alert("Error: "+r.message)}catch(e){console.error(e),alert("Failed to connect to server")}finally{t.disabled=!1,t.innerHTML='<i class="fa fa-bolt"></i> Trigger Strike'}}else alert("Please enter a campaign name")}async function generateUrl(){const e=document.getElementById("genBtn"),t=document.getElementById("resultArea"),n=document.getElementById("phishlet").value;e.disabled=!0,e.innerText="Processing...";try{const r=await fetch("http://localhost:3000/geturl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phishlet:n})}),a=await r.json();a.success?(document.getElementById("resUrlLink").value=a.url,document.getElementById("resLureId").innerText=a.lure_id,t.classList.remove("hidden")):alert("Error: "+(a.error||"Failed to generate"))}catch(e){alert("Connection failed. Is the Go Agent running?")}finally{e.disabled=!1,e.innerText="Generate Lure URL"}}function copyToClipboard(){const e=document.getElementById("urlOutput");e.select(),navigator.clipboard.writeText(e.value),alert("Copied!")}